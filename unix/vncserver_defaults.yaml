---
desktop:
  resolution:
    width: 1024
    height: 768
  allow_resize: true
  pixel_depth: 16|24|32

network:
  protocol: http|vnc
  interface: 0.0.0.0
  use_ipv4: true
  use_ipv6: true
  ssl:
    pem_certificate: [/etc/...]
    pem_key: [/etc/...]
    require_ssl: true

user_session:
  concurrent_connections_mode: always-allow|prompt|disconnect-new|disconnect-current
  approval_dialog_timeout: 10

  force_session_type: shared|exclusive
  new_session_disconnects_existing_exlusive_session: true
  ask_user_to_vet_new_sessions: false
  vetting_dialog_duration: 10
  idle_timeout: never

keyboard:
  remap_keys:
    - 0x22->0x40
    - 0x24->0x40
  # If NumLock is on (as it usually is), then pressing a key on the numeric
  # keypad while holding the shift key overrides NumLock and instead generates
  # the arrow key (or other navigation key) printed in small print under the big
  # digits.
  ignore_numlock: false
  raw_keyboard: false

# Mouse, trackpad, etc.
pointer:
  enabled: true

runtime_configuration:
  allow_client_to_override_server_settings: true
  allow_override_list:
    - pointer.allow_client_to_override_server_settings

logging:
  log_writer_name: all|*|<string>
  log_to: stderr|stdout|syslog
  # 0 - silent(?), 100 - most verbose
  log_level: 0..100

security:
  brute_force_protection:
    blacklist_threshold: 5
    blacklist_timeout: 10

data_loss_prevention:
  visible_region:
    top: 10
    left: 10
    right: 40
    bottom: 40
    non_visible_region:
      allow_click_down: false
      allow_click_release: false
  clipboard:
    delay_between_operations: none
    # Cut buffers and CLIPBOARD selection.
    server_to_client:
      enabled: true
      size: 10000|unlimited
      primary_clipboard_enabled: false
    client_to_server:
      enabled: true
      size: 10000|unlimited
  keyboard:
    enabled: true
    rate_limit: 1|unlimited
  logging:
    level: off|info|verbose

# legacy:
#   pixel_format: 16|24|32
#   inetd: false
#   desktop_name: default
#   rfb_port: 5900
#   rfb_unix_socket_path:
#   rfb_unix_mode: 0600
#   password_file:
#   password:
#   plain_user_list:
#     - foo
#     - bar
#   pam_service: vnc
#   use_protocol_3.3: false
#   x509_certificate:
#   x509_key:
#   gnu_tls_priority: NORMAL

encoding:
  max_frame_rate: 60
  native_resolution_mode:
    min_quality: 7
    max_quality: 8
    treat_this_quality_level_as_lossless: 10
    prefer_bandwidth_over_quality: false
    rectangle_compress_threads: auto|number

  video_mode:
    jpeg_quality: auto
    webp_quality: auto
    max_resolution:
      width: 1920
      height: 1080
    enter_video_mode:
      time_threshold: 5
      area_threshold: 45
    exit_video_mode:
      time_threshold: 3
    logging: disabled
    scaling_algorithm: nearest|bilinear|progressive_bilinear

    compare_framebuffer: off|always|auto
    zrle_zlib_level: 0..9
    hextile_improved_compression: true

server:
  advanced:
    x_font_path: default
    httpd_directory: /usr/share/kasmvnc/www
    kasm_password_file: ~/.kasmpasswd
    x_authtority_file: default
  auto_shutdown:
    no_user_session_timeout: never
    active_user_session_timeout: never
    inactive_user_session_timeout: never
